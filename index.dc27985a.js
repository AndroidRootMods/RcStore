function e(e, t, a, i) {
    Object.defineProperty(e, t, {
        get: a,
        set: i,
        enumerable: !0,
        configurable: !0
    })
}

function t(e) {
    return e && e.__esModule ? e.default : e
}
var a = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {},
    i = {},
    o = {},
    r = a.parcelRequire18bb;
null == r && ((r = function(e) {
            if (e in i)
                return i[e].exports;
            if (e in o) {
                var t = o[e];
                delete o[e];
                var a = {
                    id: e,
                    exports: {}
                };
                return i[e] = a,
                    t.call(a.exports, a, a.exports),
                    a.exports
            }
            var r = new Error("Cannot find module '" + e + "'");
            throw r.code = "MODULE_NOT_FOUND",
                r
        }).register = function(e, t) {
            o[e] = t
        },
        a.parcelRequire18bb = r),
    r.register("fH0PM", (function(t, a) {
        var i, o;
        e(t.exports, "register", (function() {
                return i
            }), (function(e) {
                return i = e
            })),
            e(t.exports, "resolve", (function() {
                return o
            }), (function(e) {
                return o = e
            }));
        var r = {};
        i = function(e) {
                for (var t = Object.keys(e), a = 0; a < t.length; a++)
                    r[t[a]] = e[t[a]]
            },
            o = function(e) {
                var t = r[e];
                if (null == t)
                    throw new Error("Could not resolve bundle with id " + e);
                return t
            }
    })),
    r("fH0PM").register(JSON.parse('{"cAe1C":"index.dc27985a.js","f6OWk":"3Speak.tv - Acela.4ca8ee2e.webp","3LHdL":"ActiveGS iOS.0b39c001.webp","3XfyX":"DolphiniOS.720f0881.webp","1oa9Q":"Firebird Emu.8828b067.webp","a9pne":"Flappy Bird.917667b0.webp","jJ8Br":"Flycast.e747d8f3.webp","3ODvR":"Ignited.d3de7c88.webp","gnfqw":"MAME4iOS.f21c9a03.webp","bUpR0":"Mini vMac.71970b23.webp","5sIEN":"Odyssey.48b2aed3.webp","bUUor":"OldOS.d974e46e.webp","alLHW":"PPSSPP.f9887642.webp","ohz4t":"Play!.91a7d7c1.webp","ilXOO":"PokeMMO.b195bd39.webp","27u5v":"Provenance EMU.ee7306bb.webp","eAHJu":"Ready.43799c76.webp","hD4NX":"RetroArch.ef9f4229.webp","7J9kJ":"Rewound.6ebdd527.webp","iCzyk":"ScummVM.bcc88604.webp","b7oJJ":"Taurine.f803eb53.webp","7BAgx":"UTM SE.b1c4a517.webp","ijlqt":"UTM.b1c4a517.webp","8AZrP":"VCMI.668515e4.webp","ayMUG":"XPatcher.ca635934.webp","iU8iB":"Yattee.dd76b64f.webp","1C8gG":"blurt.blog.662a5009.webp","kTzOU":"iDOS.2946b8cf.webp","lLXBf":"iNDS.b2f10cbc.webp","1JPhP":"iSH.748a31b6.webp","ct44u":"iTorrent.8d9b7729.webp","f3Atn":"unc0ver.a280bd5d.webp"}'));
var l, n;
n = new URL(r("fH0PM").resolve("f6OWk"),
    import.meta.url).toString();
var s;
s = new URL(r("fH0PM").resolve("3LHdL"),
    import.meta.url).toString();
var d;
d = new URL(r("fH0PM").resolve("3XfyX"),
    import.meta.url).toString();
var c;
c = new URL(r("fH0PM").resolve("1oa9Q"),
    import.meta.url).toString();
var p;
p = new URL(r("fH0PM").resolve("a9pne"),
    import.meta.url).toString();
var u;
u = new URL(r("fH0PM").resolve("jJ8Br"),
    import.meta.url).toString();
var m;
m = new URL(r("fH0PM").resolve("3ODvR"),
    import.meta.url).toString();
var f;
f = new URL(r("fH0PM").resolve("gnfqw"),
    import.meta.url).toString();
var h;
h = new URL(r("fH0PM").resolve("bUpR0"),
    import.meta.url).toString();
var g;
g = new URL(r("fH0PM").resolve("5sIEN"),
    import.meta.url).toString();
var v;
v = new URL(r("fH0PM").resolve("bUUor"),
    import.meta.url).toString();
var w;
w = new URL(r("fH0PM").resolve("alLHW"),
    import.meta.url).toString();
var b;
b = new URL(r("fH0PM").resolve("ohz4t"),
    import.meta.url).toString();
var S;
S = new URL(r("fH0PM").resolve("ilXOO"),
    import.meta.url).toString();
var y;
y = new URL(r("fH0PM").resolve("27u5v"),
    import.meta.url).toString();
var H;
H = new URL(r("fH0PM").resolve("eAHJu"),
    import.meta.url).toString();
var A;
A = new URL(r("fH0PM").resolve("hD4NX"),
    import.meta.url).toString();
var _;
_ = new URL(r("fH0PM").resolve("7J9kJ"),
    import.meta.url).toString();
var M;
M = new URL(r("fH0PM").resolve("iCzyk"),
    import.meta.url).toString();
var P;
P = new URL(r("fH0PM").resolve("b7oJJ"),
    import.meta.url).toString();
var R;
R = new URL(r("fH0PM").resolve("7BAgx"),
    import.meta.url).toString();
var x;
x = new URL(r("fH0PM").resolve("ijlqt"),
    import.meta.url).toString();
var O;
O = new URL(r("fH0PM").resolve("8AZrP"),
    import.meta.url).toString();
var L;
L = new URL(r("fH0PM").resolve("ayMUG"),
    import.meta.url).toString();
var E;
E = new URL(r("fH0PM").resolve("iU8iB"),
    import.meta.url).toString();
var k;
k = new URL(r("fH0PM").resolve("1C8gG"),
    import.meta.url).toString();
var U;
U = new URL(r("fH0PM").resolve("kTzOU"),
    import.meta.url).toString();
var D;
D = new URL(r("fH0PM").resolve("lLXBf"),
    import.meta.url).toString();
var F;
F = new URL(r("fH0PM").resolve("1JPhP"),
    import.meta.url).toString();
var T;
T = new URL(r("fH0PM").resolve("ct44u"),
    import.meta.url).toString();
var I;
I = new URL(r("fH0PM").resolve("f3Atn"),
        import.meta.url).toString(),
    l = {
        "3Speak.tv - Acela": n,
        "ActiveGS iOS": s,
        DolphiniOS: d,
        "Firebird Emu": c,
        "Flappy Bird": p,
        Flycast: u,
        Ignited: m,
        MAME4iOS: f,
        "Mini vMac": h,
        Odyssey: g,
        OldOS: v,
        PPSSPP: w,
        "Play!": b,
        PokeMMO: S,
        "Provenance EMU": y,
        Ready: H,
        RetroArch: A,
        Rewound: _,
        ScummVM: M,
        Taurine: P,
        "UTM SE": R,
        UTM: x,
        VCMI: O,
        XPatcher: L,
        Yattee: E,
        "blurt.blog": k,
        iDOS: U,
        iNDS: D,
        iSH: F,
        iTorrent: T,
        unc0ver: I
    };
var C;
C = JSON.parse('[{"name":"PPSSPP","desc":"PlayStation Portable games on iOS."},{"name":"Provenance EMU","desc":"Multi-emulator frontend for iOS & tvOS"},{"name":"RetroArch","desc":"Cross-platform, sophisticated frontend for emulation."},{"name":"Flappy Bird","desc":"A revival of the once popular game."},{"name":"iNDS","desc":"Revival of the Nintendo DS emulator for iOS."},{"name":"Play!","desc":"PlayStation 2 Games on iOS."},{"name":"iDOS","desc":"Play DOS games on iOS."},{"name":"ActiveGS iOS","desc":"An emulator for Apple II/2GS."},{"name":"Ready","desc":"8-bit games for your iPad."},{"name":"iTorrent","desc":"Ordinary iOS torrent client app."},{"name":"unc0ver","desc":"The most advanced jailbreak tool."},{"name":"iSH","desc":"Linux shell for iOS"},{"name":"Rewound","desc":"Turn your iPhone into an iPod. Classic."},{"name":"ScummVM","desc":"Point and click adventures."},{"name":"XPatcher","desc":"A Rom-patcher utility for your iOS device."},{"name":"Mini vMac","desc":"A miniature early Macintosh emulator."},{"name":"Firebird Emu","desc":"ARM-based TI-Nspire calculator."},{"name":"blurt.blog","desc":"A fair world of social liberty"},{"name":"OldOS","desc":"OldOS is a testament to the days of iOS 4."},{"name":"MAME4iOS","desc":"A MAME Arcade emulator for iOS."},{"name":"UTM","desc":"Virtual machines for iOS (with JIT support)"},{"name":"UTM SE","desc":"Virtual machines for iOS (without JIT support)"},{"name":"Odyssey","desc":"An iOS 13.0-13.7 jailbreak."},{"name":"Taurine","desc":"An iOS 14.0-14.3 jailbreak."},{"name":"DolphiniOS","desc":"GameCube and Wii games on the go."},{"name":"Yattee","desc":"Alternative YouTube frontend"},{"name":"PokeMMO","desc":"A free-to-play online monster mmorpg."},{"name":"Flycast","desc":"Dreamcast, Naomi and Atomiswave emulator."},{"name":"VCMI","desc":"Heroes of Might & Magic III engine"},{"name":"3Speak.tv - Acela","desc":"Tokenized Video Communities"},{"name":"Ignited","desc":"Retro games, modern design."}]');
const J = document.querySelector.bind(document),
    N = document.querySelectorAll.bind(document),
    z = new IntersectionObserver((e => {
        e.forEach((e => {
            e.isIntersecting ? e.target.classList.add("animate-fade-show") : e.target.classList.remove("animate-fade-show")
        }))
    })),
    $ = () => N(".section-fade,.section-fade-items").forEach((e => {
        z.observe(e)
    }));
$();
let j = navigator.userAgent.toLowerCase();
const q = (...e) => "mac" == j ? e[0] : "windows" == j ? e[1] : e[2];
j = -1 != j.indexOf("mac") ? "mac" : -1 != j.indexOf("win") ? "windows" : "mac";
let V = [() => `<b>To get started, you'll need:</b><ul class="list-disc list-inside"><li>${q("A Mac running macOS 10.15 or later", "A PC running Windows 10 or later", "A PC running Linux, of some sort")}</li><li>An Apple ID</li><li>An Internet connection</li><li>An iPhone or iPad with iOS 14 or iPadOS 14 or later</li></ul><br>On your computer, download the following:<a class="btn-fill" target="_blank" href="${q("https://cdn.altstore.io/file/altstore/altserver.zip", "https://cdn.altstore.io/file/altstore/altinstaller.zip")}">Download AltServer</a>\n          <a class="btn-fill" target="_blank" href="${q("https://github.com/sidestore/sidestore/releases/latest/download/sidestore.ipa", "https://github.com/sidestore/sidestore/releases/latest/download/sidestore.ipa")}">Download SideStore.ipa</a>\n                <a class="btn-fill" target="_blank" href="${q("https://github.com/osy/Jitterbug/releases/download/v1.3.1/jitterbugpair-macos.zip", "https://github.com/osy/Jitterbug/releases/download/v1.3.1/jitterbugpair-win64.zip")}">Download JitterbugPair</a>${q('Then, open the downloaded AltServer zip file and extract it. Then drag <code>AltServer.app</code> to your Applications folder. Now, open the app (you may have to right click and select "Open" if you get a warning).', 'Extract the downloaded AltInstaller zip file and run <code>setup.exe</code> to install AltServer. You\'ll  need to have the non-Microsoft Store version of iTunes and iCloud installed. Uninstall the Microsoft Store versions if you have either installed.<div class="flex flex-wrap gap-2"><a class="btn-fill" href="https://www.apple.com/itunes/download/win64/">Download iTunes</a><a class="btn-fill" href="https://updates.cdn-apple.com/2020/windows/001-39935-20200911-1A70AA56-F448-11EA-8CC0-99D41950005E/iCloudSetup.exe">Download iCloud</a></div>')}`, e => `<b>Follow these steps to install SideStore:</b><ul class="list-disc list-inside"><li>Plug your device into your computer via a cable.</li><li>Trust your computer on your device (if prompted).</li><li>Launch Altserver and, ${q("holding options, click on the Altserver icon in the menu bar and select <code>Sideload .ipa</code>.", "holding shift, click on the AltServer tray icon and select <code>Sideload .ipa</code>.")}</li><li> Select the SideStore .ipa, follow instructions as prompted, and wait until AltServer confirms that SideStore has been installed.</li><li>Open <code>Settings > General > VPN & Device Management</code> on your device and approve of the <code>Developer App</code> linked to your Apple ID's email.</li><li>If your device is running iOS/iPadOS 16 or higher, you must now enable Developer Mode. To do that:<ul class="list-decimal list-inside ml-4 sm:ml-6"><li>Open the Settings app</li><li>Tap “Privacy & Security”</li><li>Scroll to the bottom and toggle Developer Mode on</li></ul></li>`, e => `<b>Follow these steps to Pair your device:</b><li>Extract <code>Jitterbugpair.zip.</code> <a class="glink" target="_blank" href="https://support.apple.com/en-ca/guide/iphone/iph14a867ae/ios">Set a passcode for your device</a> if you don't already have one and ensure that your device is still connected to your computer via cable.</li> <ul class="list-disc list-inside"><li> Open your device to its homescreen. ${q("Then, execute <code>JitterBugPair</code> by double-clicking it or right-clicking it and selecting open.</li><li>JitterBugPair will then generate a <b>pairing file</b>. This pairing file will have the file exentension <code>mobiledevicepairing.</code></li>", 'Then, in File Explorer, locate <code>jitterbugpair.exe</code> and execute it by double-clicking it or right-clicking it and selecting open. <li>JitterBugPair will then generate a <b>pairing file</b> within the same folder. This pairing file will have the file exentension <code>mobiledevicepairing.</code> If no file generates, try running JitterBugPair as an administrator or follow steps 5-7 listed <a class="glink" target="_blank" href="https://docs.SideStore.io/docs/getting-started/pairing-file">here</a>.</li>')}</li>\n                                                                                                                                                                                                                                                                                                          \n<li>Zip this pairing file and transfer it to your device via Google Drive, emailing it to yourself, or any other method.</li>\n<br>In the Files app, longpress on your zipped pairing file and select uncompress. Then, locate and launch the SideStore app and select OK when prompted.<li>If you cannot find the SideStore app you may need to restart your device to make it appear.</li>Select your now unzipped pairing file and SideStore will be paired!<li>Note that if you update your iDevice your pairing file will become invalid and you'll have to go through this process again.</li><li>To get SideStore to prompt you for your pairing file again tap <code>Reset Pairing File</code> in the SideStore app.</li>`, () => 'On your device, download the WireGuard VPN app.<a class="btn-fill" target="_blank" href="https://apps.apple.com/us/app/wireguard/id1441195209">Download WireGuard</a>Then, download SideStore\'s config file and "share" it to the WireGuard app.<a class="btn-fill" target="_blank" href="https://github.com/sidestore/sidestore/releases/download/0.1.1/sidestore.conf">Download WireGuard Config</a>Enable the SideStore VPN. You\'ll have to enable this VPN whenever you wish to use SideStore. This VPN does not connect to an external server, but rather allows your device to communicate with itself.<br><br>If left enabled, SideStore will attempt to refresh your sideloaded apps in the background when necessary.', () => 'Now to finish the process: <ul class="list-disc list-inside"><li>Open SideStore and sign in with the same Apple ID you used to install SideStore.</li><li>Go to the Apps tab and refresh the SideStore app by tapping on the green day counter or selecting <code>Refresh All.</code> You <b>must</b> do this whenever you install SideStore. Doing otherwise might cause errors, including SideStore expiring earlier than it should.</li></ul>\n    <br> Now you\'re all set! You can use the sources menu to add installable apps to the browse tab or directly sideload any <code>.ipa</code> files on your device with the + icon in the Apps tab.\n    <br>Note that if you ever let an app expire you won\'t be able to access it until you refresh it again. To refresh SideStore, simply follow the steps you followed to install it. (Do <b>not</b> uninstall the SideStore app while doing this.) Altserver will refresh Sidestore and it will continue to function. For any other app, just refresh it normally, and it will work again.\n    <br>If you run into any issues and would like some help, feel free to ask in our <a class="glink" target="_blank" href="https://discord.gg/RgpFBX3Q3k">Discord server.</a>'];
const B = J("#setup-os-select"),
    G = J("#setup-next-btn"),
    X = J("#setup-prev-btn"),
    W = J("#setup-content"),
    Z = [...N('#setup-stepper li:not([aria-hidden="true"])')],
    Y = e => {
        Z.map(((t, a) => t.classList.toggle("active", a == e))),
            W.classList.add("!opacity-0"),
            W.classList.add("translate-y-[10px]"),
            setTimeout((() => {
                W.innerHTML = V[e](j),
                    W.classList.remove("!opacity-0"),
                    W.classList.remove("translate-y-[10px]")
            }), 300),
            X.classList.toggle("hidden", 0 == e),
            G.classList.toggle("hidden", 4 == e),
            J("#setup-btn-wrap").classList.toggle("onlyprev", 4 == e)
    };
G.addEventListener("click", (() => {
        let e = J("#setup-stepper li.active"),
            t = Z.indexOf(e);
        4 != t && Y(t + 1)
    })),
    X.addEventListener("click", (() => {
        let e = J("#setup-stepper li.active"),
            t = Z.indexOf(e);
        0 != t && Y(t - 1)
    })),
    B.addEventListener("change", (e => {
        j = e.target.value,
            Y(Z.indexOf(J("#setup-stepper li.active")))
    })),
    B.value = j,
    Z.map(((e, t) => e.addEventListener("click", (() => Y(t))))),
    Y(0);
let Q = (e, t, a) => (Object.keys(t).forEach((i => e = e.replace(new RegExp(`{{${i}}}`, "g"), a.indexOf(i) > -1 ? new URL(t[i], "file:///src/index.js") : t[i]))),
    e);
(async() => {
    let e = t(C).sort((() => Math.random() - .5));
    e = e.map((e => ({
        ...e,
        icon: t(l)[e.name].endsWith(".webp") ? t(l)[e.name] : t(l)[e.name] + ".webp"
    }))).map((e => Q('<div class="marquee-card"><img src="{{icon}}" alt="{{name}}" class="mr-4 h-[4.15rem] w-[4.15rem] min-h-[4.15rem] min-w-[4.15rem] rounded-[0.925rem] shadow-sm p-0.5"/><div class="flex flex-col justify-center"><h1 class="text-xl font-medium font-title text-zinc-200">{{name}}</h1><p class="whitespace-pre-line text-sm text-zinc-300/70">{{desc}}</p></div></div>', e, ["icon"])));
    let a = e.join(""),
        i = e.reverse().join("");
    N("#marquee1").forEach((e => e.innerHTML = a)),
        N("#marquee2").forEach((e => e.innerHTML = i)),
        $(),
        N(".marquee-inner").forEach((e => e.style.transform = "translateZ(0)")),
        J("#show-all-downloads").addEventListener("click", (() => {
            J("#all-downloads").classList.remove("hidden"),
                J("#all-downloads").classList.add("flex"),
                setTimeout((() => {
                    J("#all-downloads").classList.add("show")
                }), 10)
        })),
        J("#close-all-downloads").addEventListener("click", (() => {
            J("#all-downloads").classList.remove("show"),
                setTimeout((() => {
                    J("#all-downloads").classList.remove("flex"),
                        J("#all-downloads").classList.add("hidden")
                }), 150)
        })),
        console.log(`Loaded apps marquee with ${e.length} items.`);
    let o = JSON.parse(localStorage.getItem("eventLogCache")) || [],
        r = [];
    o.length && localStorage.getItem("eventLogCacheDate") < Date.now() - 3e5 && (r = o),
        r.length || (r = await (await fetch("https://api.github.com/orgs/sidestore/events?per_page=100")).json(),
            localStorage.setItem("eventLogCache", JSON.stringify(r)));
    const n = JSON.parse(localStorage.getItem("reposCache")) || [];
    let s = [];
    n.length && localStorage.getItem("reposCacheDate") < Date.now() - 144e5 && (s = n),
        s.length || (s = await (await fetch("https://api.github.com/users/sidestore/repos?per_page=50")).json(),
            localStorage.setItem("reposCache", JSON.stringify(s)));
    const d = s.sort(((e, t) => t.stargazers_count - e.stargazers_count)).filter((e => 563241929 != e.id)).slice(0, 9).map(((e, t) => {
        let a = (e.description.length > 85 ? e.description.split(".")[0].split("and")[0] : e.description).trim();
        return (a.endsWith(".") || a.endsWith(",")) && (a = a.slice(0, -1)),
            Q('<a style="--custom-index:{{index}}" href="{{url}}" target="_blank" class="flex flex-col w-full gridok:h-full max-w-md p-4 border rounded-2xl border-zinc-800 text-zinc-200 bg-material/50 hover:bg-material hover:border-zinc-700 hover:shadow-xl"> <span class="text-[1.075rem] text-semibold font-title">{{name}}</span> <p class="text-zinc-300/70 overflow-x-ellipsis whitespace-pre-wrap text-[0.9rem]">{{description}}</p><div class="gridok:flex-grow" ></div><div class="flex space-x-3 mt-1 text-[0.9rem]"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1.5" fill="currentColor" viewBox="0 0 256 256"><path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path></svg>{{stars}}</div><div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1.5" fill="currentColor" viewBox="0 0 256 256"><path d="M216,48H40A16,16,0,0,0,24,64V224a15.84,15.84,0,0,0,9.25,14.5A16.05,16.05,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78.69.69,0,0,0,.13-.11L82.5,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM84,140a12,12,0,1,1,12-12A12,12,0,0,1,84,140Zm44,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm44,0a12,12,0,1,1,12-12A12,12,0,0,1,172,140Z"></path></svg>{{issues}}</div><div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1.5" fill="currentColor" viewBox="0 0 256 256"><path d="M104,64A32,32,0,1,0,64,95v66a32,32,0,1,0,16,0V95A32.06,32.06,0,0,0,104,64ZM88,192a16,16,0,1,1-16-16A16,16,0,0,1,88,192Zm144,0a32,32,0,1,1-40-31V123.88A39.71,39.71,0,0,0,180.28,95.6L152,67.31V96a8,8,0,0,1-16,0V48a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H163.31L191.6,84.28a55.67,55.67,0,0,1,16.4,39.6V161A32.06,32.06,0,0,1,232,192Z"></path></svg>{{forks}}</div></div></a>', {
                name: e.name.replace(/_/g, "-"),
                description: a,
                stars: e.stargazers_count,
                forks: e.forks_count,
                issues: e.open_issues_count,
                url: e.html_url,
                index: t
            }, [])
    })).join("");
    J("#repos-grid").innerHTML = d,
        $();
    const c = {
        PushEvent: "commit",
        IssueCommentEvent: "issue_comment",
        PullRequestReviewCommentEvent: "pull_comment",
        PullRequestEvent: "pull_request"
    };
    let p = r.filter((e => Object.keys(c).includes(e.type))).filter((e => !e.actor.login.includes("[bot]"))).filter((e => "PullRequestEvent" !== e.type || ["opened", "closed", "reopened"].includes(e.payload.action))).map((e => ({
        event: c[e.type],
        data: {
            commits: e.payload.commits && e.payload.commits.length || null,
            issueID: e.payload.issue && e.payload.issue.number || null,
            pullID: e.payload.pull_request && e.payload.pull_request.number || null,
            action: e.payload.action || null,
            date: {
                firstDate: e.created_at,
                lastDate: e.created_at,
                dateSpan: null
            },
            actor: e.actor,
            repo: e.repo
        }
    }))).reduce(((e, t) => {
        if ("commit" == t.event) {
            let a = e[e.length - 1];
            if (a && "commit" == a.event && a.data.actor.login == t.data.actor.login && a.data.repo.name == t.data.repo.name)
                return a.data.commits += t.data.commits,
                    a.data.date.lastDate = t.data.date.firstDate,
                    e
        }
        return e.push(t),
            e
    }), []).map((e => {
        const t = t => e.data.date.dateSpan = t;
        let a = new Date(e.data.date.lastDate),
            i = Math.round((new Date - a) / 1e3 / 60);
        return t(0 == i ? "just now" : 1 == i ? "a minute ago" : i <= 60 ? `${i} minutes ago` : i / 60 == 1 ? "an hour ago" : i / 60 <= 24 ? `${Math.round(i / 60)} hours ago` : i / 60 <= 48 ? "yesterday" : i / 60 <= 8760 ? `${Math.round(i / 60 / 24)} days ago` : "a long time ago"),
            e
    })).map(((e, t) => {
        let a = e => e.replace(/https:\/\/api\.github\.com\/(users|repos)/i, "https://github.com"),
            i = (t, i) => `<a class="glink" target="_blank" href="${a(e.data.repo.url)}/${i}/${t}">#${t}</a>`,
            o = `<a class="glink" href="${a(e.data.actor.url)}">${e.data.actor.login}</a> `;
        "commit" == e.event && (o += `pushed ${e.data.commits} commit${e.data.commits > 1 ? "s" : ""}`),
            "issue_comment" == e.event && (o += `commented on issue ${i(e.data.issueID, "issues")}`),
            "pull_comment" == e.event && (o += `commented on pull request ${i(e.data.pullID, "pull")}`),
            "pull_request" == e.event && (o += ` ${e.data.action} pull request ${i(e.data.pullID, "pull")}`);
        let r = `in <a class="glink" href="${a(e.data.repo.url)}">${e.data.repo.name.split("/")[1]}</a> • ${e.data.date.dateSpan}`;
        return Q('<div class="flex items-center w-full" style="--custom-index:{{index}}"> <img class="mr-4 h-8 w-8 rounded-lg" loading="lazy" src="{{avatar}}" alt="{{actor_name}}"/> <div class="flex flex-col justify-center"> <p class="text-sm sm:text-base font-medium text-gray-300">{{message}}</p><p class="text-xs sm:text-sm text-gray-300 text-zinc-300/70">{{sub}}</p></div></div>', {
            avatar: e.data.actor.avatar_url + "v=3&s=32",
            message: o,
            sub: r,
            actor_name: e.data.actor.login,
            index: t
        }, [])
    })).slice(0, 9);
    N("#event-log").forEach((e => e.innerHTML = p.join(""))),
        $()
})();
